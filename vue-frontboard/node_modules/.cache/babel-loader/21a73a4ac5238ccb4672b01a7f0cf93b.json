{"ast":null,"code":"import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, vModelText as _vModelText, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, Fragment as _Fragment } from \"vue\";\nconst _hoisted_1 = {\n  class: \"doard-detail\"\n};\n\nconst _hoisted_2 = /*#__PURE__*/_createTextVNode(\"  \");\n\nconst _hoisted_3 = {\n  class: \"board-contents\"\n};\nconst _hoisted_4 = {\n  class: \"board-contents\"\n};\nconst _hoisted_5 = {\n  class: \"common-buttons\"\n};\n\nconst _hoisted_6 = /*#__PURE__*/_createTextVNode(\"  \");\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"w3-button w3-round w3-blue-gray\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.fnSave && $options.fnSave(...args))\n  }, \"저장\"), _hoisted_2, _createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"w3-button w3-round w3-gray\",\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.fnList && $options.fnList(...args))\n  }, \"목록\")]), _createElementVNode(\"div\", _hoisted_3, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.title = $event),\n    class: \"w3-input w3-board\",\n    placeholder: \"제목을 입력해주세요.\"\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, $data.title]]), $data.idx === undefined ? _withDirectives((_openBlock(), _createElementBlock(\"input\", {\n    key: 0,\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.author = $event),\n    class: \"w3-input w3-board\",\n    placeholder: \"작성자를 입력해주세요.\"\n  }, null, 512\n  /* NEED_PATCH */\n  )), [[_vModelText, $data.author]]) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_4, [_withDirectives(_createElementVNode(\"textarea\", {\n    id: \"\",\n    cols: \"30\",\n    rows: \"10\",\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.contents = $event),\n    class: \"w3-input w3-board\",\n    style: {\n      \"resize\": \"none\"\n    }\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, $data.contents]]), _createElementVNode(\"p\", null, \"data.requestBody : \" + _toDisplayString(_ctx.$data.requestBody), 1\n  /* TEXT */\n  ), _createElementVNode(\"p\", null, \"data.idx : \" + _toDisplayString(_ctx.$data.idx), 1\n  /* TEXT */\n  )]), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"w3-button w3-round w3-blue-gray\",\n    onClick: _cache[5] || (_cache[5] = (...args) => $options.fnSave && $options.fnSave(...args))\n  }, \"저장\"), _hoisted_6, _createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"w3-button w3-round w3-gray\",\n    onClick: _cache[6] || (_cache[6] = (...args) => $options.fnList && $options.fnList(...args))\n  }, \"목록\")])], 64\n  /* STABLE_FRAGMENT */\n  );\n}","map":{"version":3,"mappings":";;EACOA,KAAK,EAAC;;;iDACoF;;;EAG1FA,KAAK,EAAC;;;EAINA,KAAK,EAAC;;;EAKNA,KAAK,EAAC;;;iDACoF;;;6DAd/FC,oBAGM,KAHN,cAGM,CAFJA,oBAA6F,QAA7F,EAA6F;IAArFC,IAAI,EAAC,QAAgF;IAAvEF,KAAK,EAAC,iCAAiE;IAA1BG,OAAK,yCAAEC,2CAAF;EAAqB,CAA7F,EAAkF,IAAlF,CAEI,cADJH,oBAAwF,QAAxF,EAAwF;IAAhFC,IAAI,EAAC,QAA2E;IAAlEF,KAAK,EAAC,4BAA4D;IAA1BG,OAAK,yCAAEC,2CAAF;EAAqB,CAAxF,EAA6E,IAA7E,CACI,CAHN,GAIAH,oBAGM,KAHN,cAGM,iBAFJA,oBAAwF,OAAxF,EAAwF;IAAjFC,IAAI,EAAC,MAA4E;+DAA5DG,cAAKC,OAAuD;IAArDN,KAAK,EAAC,mBAA+C;IAA3BO,WAAW,EAAC;EAAe,CAAxF;;EAAA,kBAA4BF,cAExB,EAD2FA,cAAQG,2CAAvGC,oBAAmH,OAAnH,EAAmH;UAAA;IAA5GP,IAAI,EAAC,MAAuG;+DAAvFG,eAAMC,OAAiF;IAA/EN,KAAK,EAAC,mBAAyE;IAArDO,WAAW,EAAC;EAAyC,CAAnH;;EAAA,mBAA4BF,mDACxB,CAHN,GAIAJ,oBAIM,KAJN,cAIM,iBAHJA,oBAAkH,UAAlH,EAAkH;IAAxGS,EAAE,EAAC,EAAqG;IAAlGC,IAAI,EAAC,IAA6F;IAAxFC,IAAI,EAAC,IAAmF;+DAArEP,iBAAQC,OAA6D;IAA3DN,KAAK,EAAC,mBAAqD;IAAjCa,KAAqB,EAArB;MAAA;IAAA;EAAiC,CAAlH;;EAAA,kBAA6CR,iBAGzC,EAFJJ,oBAA+C,GAA/C,EAA+C,IAA/C,EAAG,wBAAmBa,iBAAEC,WAAMC,WAAR,CAAtB,EAAyC;EAAA;EAAzC,CAEI,EADJf,oBAA+B,GAA/B,EAA+B,IAA/B,EAAG,gBAAWa,iBAAEC,WAAME,GAAR,CAAd,EAAyB;EAAA;EAAzB,CACI,CAJN,GAKAhB,oBAGM,KAHN,cAGM,CAFJA,oBAA6F,QAA7F,EAA6F;IAArFC,IAAI,EAAC,QAAgF;IAAvEF,KAAK,EAAC,iCAAiE;IAA1BG,OAAK,yCAAEC,2CAAF;EAAqB,CAA7F,EAAkF,IAAlF,CAEI,cADJH,oBAAwF,QAAxF,EAAwF;IAAhFC,IAAI,EAAC,QAA2E;IAAlEF,KAAK,EAAC,4BAA4D;IAA1BG,OAAK,yCAAEC,2CAAF;EAAqB,CAAxF,EAA6E,IAA7E,CACI,CAHN","names":["class","_createElementVNode","type","onClick","$options","$data","$event","placeholder","undefined","_createElementBlock","id","cols","rows","style","_toDisplayString","_ctx","requestBody","idx"],"sourceRoot":"","sources":["/Users/yunbyeong-u/java_project/self-study/vue-Project/vue-frontboard/src/views/board/BoardWrite.vue"],"sourcesContent":["<template>\n  <div class=\"doard-detail\">\n    <button type=\"button\" class=\"w3-button w3-round w3-blue-gray\" v-on:click=\"fnSave\">저장</button>&nbsp;\n    <button type=\"button\" class=\"w3-button w3-round w3-gray\" v-on:click=\"fnList\">목록</button>\n  </div>\n  <div class=\"board-contents\">\n    <input type=\"text\" v-model=\"title\" class=\"w3-input w3-board\" placeholder=\"제목을 입력해주세요.\"/>\n    <input type=\"text\" v-model=\"author\" class=\"w3-input w3-board\" placeholder=\"작성자를 입력해주세요.\" v-if=\"idx === undefined\"/>\n  </div>\n  <div class=\"board-contents\">\n    <textarea id=\"\" cols=\"30\" rows=\"10\" v-model=\"contents\" class=\"w3-input w3-board\" style=\"resize: none;\"></textarea>\n    <p>data.requestBody : {{$data.requestBody}}</p>\n    <p>data.idx : {{$data.idx}}</p>\n  </div>\n  <div class=\"common-buttons\">\n    <button type=\"button\" class=\"w3-button w3-round w3-blue-gray\" v-on:click=\"fnSave\">저장</button>&nbsp;\n    <button type=\"button\" class=\"w3-button w3-round w3-gray\" v-on:click=\"fnList\">목록</button>\n  </div>\n</template>\n\n<script>\n  export default {\n    data(){\n      return {\n        requestBody: this.$route.query,\n        idx: this.$route.query.idx,\n\n        title:'',\n        author: '',\n        contents: '',\n        created_at: ''\n      }\n    },\n\n    mounted(){\n      this.fnGetView()\n    },\n\n    methods: {\n      fnGetView(){\n        if(this.idx !== undefined){\n          this.$axios.get(this.$serverUrl + '/board/' + this.idx, {\n            params: this.requestBody\n          })\n        }\n      },\n\n      fnList(){\n        delete this.requestBody.idx\n        this.$router.push({\n          path: './list',\n          query: this.requestBody\n        })\n      },\n      fnView(idx){\n        this.requestBody = idx\n        this.$router.push({\n          path: './detail',\n          quert: this.requestBody\n        })\n      },\n      fnSave(){\n        let apiUrl = this.$serverUrl + './board'\n\n        // data setting\n        this.form = {\n          \"idx\": this.idx,\n          \"title\": this.title,\n          \"contents\": this.contents,\n          \"author\": this.author\n        }\n\n        if(this.idx === undefined){\n          // INSERT\n          this.$axios.post(apiUrl, this.form)\n          .then((res) => {\n            alert('글이 저장되었습니다.')\n            this.fnView(res.data.idx)\n          }).catch((err) => {\n            if (err.message.indexOf('Network Error') > -1){\n              alert('네트워크가 원활하지 않습니다.\\n잠시 후 다시 시도해주세요.')\n            }\n          })\n        } else {\n          //UPDATE\n          this.$axios.patch(apiUrl, this.form)\n          .then((res) => {\n            alert('글이 저장되었습니다.')\n            this.fnView(res.data.idx)\n          }).catch((err) => {\n            if(err.message.indexOf('Network Error') > -1){\n              alert('네트워크가 원활하지 않습니다.\\n잠시 후 다시 시도해주세요.')\n            }\n          })\n        }\n      }\n    }\n  }\n\n</script>\n\n\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}